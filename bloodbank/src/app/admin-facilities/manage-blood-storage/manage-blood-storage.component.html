<app-admin-header></app-admin-header>

<!-- sidebar -->
<div id="sidebar">
    <div class="toggle-btn" (click)="toggleSidebar()">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <aside class="sidebar">
        <div class="user-info" style="background: url(assets/images/user-img-background.jpg)">
            <div class="logo-section">
                <div class="image">
                    <img src="assets/images/user.png" width="48" height="48" alt="User" />
                </div>
                <div class="info-container">
                    <div class="name" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Blood Bank Sri
                        Lanka</div>
                    <div class="email">info@nbts.health.gov.lk</div>
                </div>
            </div>
        </div>
        <div class="menu">
            <ul class="list">
                <li class="header"><i class="fa fa-eye online-icon"></i> Online</li>
            </ul>
            <ul class="menu-bar">
                <li><a routerLink="/main-admin-dashboard"><i class="fas fa-book-reader"></i>Dashboard</a></li>
                <li>
                    <a><i class="fas fa-book"></i>Blood Storage</a>
                    <ul class="sub-menu">
                        <li><a routerLink="/view-blood-storage"><i class="fa fa-eye"></i>View Blood Storage</a></li>
                        <li><a routerLink="/manage-blood-storage"><i class="fa fa-eye"></i>Manage Blood Storage</a></li>
                        <li><a routerLink="/add-blood-storage"><i class="fa fa-eye"></i>Add Blood Storage</a></li>
                    </ul>
                </li>
                <li>
                    <a><i class="far fa-calendar-check"></i>Appointments</a>
                    <ul class="sub-menu">
                        <li><a routerLink="/admin-view-appointments"><i class="fas fa-eye"></i>View Appointments</a>
                        </li>
                        <li><a routerLink="/admin-accept-delete-appointments"><i class="fas fa-eye"></i>Pending
                                Appointments</a></li>
                        <li><a routerLink="/admin-accepted-appointments"><i class="fas fa-eye"></i>Accepted
                                Appointments</a></li>
                        <li><a routerLink="/admin-finished-appointments"><i class="fas fa-eye"></i>Finished
                                Appointments</a></li>
                    </ul>
                </li>
                <li>
                    <a><i class="fa fa-first-aid"></i>Blood Camps</a>
                    <ul class="sub-menu">
                        <li><a routerLink="/view-blood-campaigns"><i class="fa fa-eye"></i>View Blood Camps</a></li>
                        <li><a routerLink="/register-blood-campaign"><i class="fa fa-eye"></i>Add Blood Camps</a></li>
                        <li><a routerLink="/manage-blood-campaigns"><i class="fa fa-eye"></i>Manage Blood Camps</a></li>
                    </ul>
                </li>
                <li>
                    <a><i class="fas fa-book"></i>Manage Registered Donors</a>
                    <ul class="sub-menu">
                        <li><a routerLink="/manage-registered-donors"><i class="fa fa-eye"></i>Manage & Contact</a></li>
                    </ul>
                </li>
                <li>
                    <a><i class="fas fa-book"></i>Manage Registered Donee</a>
                    <ul class="sub-menu">
                        <li><a routerLink="/manage-registered-donee"><i class="fa fa-eye"></i>Manage & Contact</a></li>
                    </ul>
                </li>
                <li><a routerLink="/hospital-register"><i class="fa fa-link"></i>Add a New Hospital</a></li>
                <li><a routerLink="/manage-hopital-blood-orders"><i class="far fa-calendar-check"></i>Manage Hospital
                        Blood Orders</a></li>
                <li><a routerLink="/blood-inventory-report"><i class="fas fa-book-reader"></i>Reports</a></li>
            </ul>
        </div>
    </aside>
</div>

<div class="container" id="toggle_container_one">
    <div class="row">
        <div class="col">
            <!-- Success message -->
            <div class="success" *ngIf="showSucessMessage">
                Deleted successfully
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <button class="btn btn-success" routerLink="/add-blood-storage">Add New Inventory</button>
        </div>
    </div>
    <div class="row align-items-center">
        <div class="col">
            <h4 class="text-center">Manage Blood Storage Inventory</h4>
            <table *ngIf="bloodinventoryService.blood_inventories" datatable="ng"
                class="table table-striped table-bordered table-hover display" id="my-table">
                <thead>

                    <tr>
                        <td colspan="6" class="text-center tbl-header">National Blood Transfussion Service</td>
                    </tr>
                    <tr>
                        <td colspan="6" class="text-center tbl-header">Available Blood Storage</td>
                    </tr>

                    <tr>
                        <th class="table-danger">Blood Bag ID</th>
                        <th class="table-danger">Blood Group</th>
                        <th class="table-danger">Volume(ml)</th>
                        <th class="table-danger">Blood Bag Received Date</th>
                        <th class="table-danger">Blood Bag Expiry Date</th>
                        <th class="table-danger">Action</th>

                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let bloodinv of bloodinventoryService.blood_inventories">
                        <td>{{bloodinv._id}}</td>
                        <td>{{bloodinv.blood_group}}</td>
                        <td>{{bloodinv.volume}}</td>
                        <td>{{bloodinv.received_date}}</td>
                        <td>{{bloodinv.expiry_date}}</td>
                        <td>
                            <a class="action-btn" (click)="onEdit(bloodinv)">
                                <i class="fas fa-pencil-alt" style="margin-right: 10px;"></i>
                            </a>
                            <a class="action-btn" (click)="onDelete(bloodinv._id)">
                                <i class="fas fa-trash-alt"></i>
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>