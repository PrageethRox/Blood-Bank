<app-donor-header></app-donor-header>

<div class="container">
    <form #signUpForm="ngForm" (ngSubmit)="signUpForm.valid && onSubmit(signUpForm)">
            <!-- Success message -->
            <div class="success" *ngIf="showupdateSucessMessage">
              Updated successfully....
            </div>
            
            <!-- Error message -->
            <div class="alert" *ngIf="serverErrorMessages">
              {{serverErrorMessages}}
            </div>

                    <h2 class="text-center">Update Profile</h2>
                    <div class="row fadeInDown">
                        <div class="col-md-6">
                            <div class="input-group">
                                <input type="hidden" name="_id" #_id="ngModel" [(ngModel)]="donorService.selectedUser._id" class="form-control">
                            </div>
                            <div class="input-group">
                                <label class="label control-label">Last Donate<br> Date :</label>
                                <input type="date" name="last_donate_date" #last_donate_date="ngModel" [(ngModel)]="donorService.selectedUser.last_donate_date" class="form-control">             
                            </div>
                            <div class="input-group">
                                <label class="label control-label">City :</label>
                                <input type="text" name="city" #city="ngModel" [(ngModel)]="donorService.selectedUser.city" class="form-control" placeholder="City" required>
                            </div>
                            <div class="input-group">
                                <label class="label control-label">Address :</label>
                                <textarea name="address" #address="ngModel" [(ngModel)]="donorService.selectedUser.address" class="form-control" placeholder="Address" required></textarea>
                            </div>
                            <div class="input-group">
                                <label class="label control-label">Email Address :</label>
                                <input type="email" name="email" #email="ngModel" [(ngModel)]="donorService.selectedUser.email" [pattern]="emailRegex" class="form-control" placeholder="Email Address" required>                        
                            </div>
                            <div class="input-group">
                                <label class="label control-label">Current Weight :</label>
                                <input type="number" id="weight" name="weight" #weight="ngModel" [(ngModel)]="donorService.selectedUser.weight" (blur)="validateUpdateDetails()" class="form-control" placeholder="Weight" required>
                            </div>
                            <div class="input-group">
                                <label class="label control-label">Current Height :</label>
                                <input type="number" id="height" name="height" #height="ngModel" [(ngModel)]="donorService.selectedUser.height" (blur)="validateUpdateDetails()" class="form-control" placeholder="Height" required>
                            </div>          
                        </div>
                        <div class="col-md-6">                            
                            <div class="input-group">
                                <label class="label control-label">Contact No :</label>
                                <input type="tel" name="contact" #contact="ngModel" [(ngModel)]="donorService.selectedUser.contact" class="form-control" placeholder="Contact No" required>
                            </div>   
                            <div class="input-group wrapper">
                                <label class="label control-label">Password :</label>
                                <input type="password" name="password" #password="ngModel" [(ngModel)]="donorService.selectedUser.password" id="password" class="form-control" placeholder="Password" minlength="4" required>
                                <i class="fa fa-eye" style="position: absolute;margin-left: 93%;margin-top: 12px;" (click)="pswrdvisible()"></i>                                  
                            </div>
                            <div class="input-group">
                                <label class="label control-label">Spouce Details :</label>
                                <textarea name="spouce" #spouce="ngModel" [(ngModel)]="donorService.selectedUser.spouce" class="form-control" placeholder="Spouce Details" required></textarea>                     
                            </div>
                            <div class="input-group">
                                <label class="label control-label">Health Issues :</label>
                                <textarea name="health" #health="ngModel" [(ngModel)]="donorService.selectedUser.health" class="form-control" placeholder="Health Issues" required></textarea>
                            </div>
                            <div class="input-group">
                                <label class="label control-label">Photo :</label>
                                <input type="file" name="photo" #photo="ngModel" [(ngModel)]="donorService.selectedUser.photo" class="form-control" placeholder="Photo">
                            </div>
                        </div>
                            <input type="submit" class="btn btn-success" [disabled]="!signUpForm.valid" value="Update" style="margin-left: 18%;">
                            <input type="reset" class="btn btn-danger" value="Clear" style="margin-right: 10px;">
                            <input type="reset" class="btn btn-danger" value="Cancel" routerLink="">
                    </div>
            </form>  
</div>
